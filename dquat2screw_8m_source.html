<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.18"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: C:/Users/Suresh/Downloads/Dual quaternion toolbox v3/Dual quaternion toolbox v3/dquat2screw.m Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.18 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_e6bb53534ac0e427887cf7a94c0c004e.html">C:</a></li><li class="navelem"><a class="el" href="dir_8ceffd4ee35c3518d4e8bdc7e638efe8.html">Users</a></li><li class="navelem"><a class="el" href="dir_bea97fb973cc949056b26b576ea5dabe.html">Suresh</a></li><li class="navelem"><a class="el" href="dir_8a547cc00de77d37c6c460eec463f482.html">Downloads</a></li><li class="navelem"><a class="el" href="dir_9bc5b8bc39bd7365719d406b96c941d4.html">Dual quaternion toolbox v3</a></li><li class="navelem"><a class="el" href="dir_7c28cdb93ef45b54aad0dd402f9c9167.html">Dual quaternion toolbox v3</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">dquat2screw.m</div>  </div>
</div><!--header-->
<div class="contents">
<a href="dquat2screw_8m.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno"><a class="line" href="dquat2screw_8m.html#ab10066b02bf9e8192c2a9e5e49cdec2e">    1</a></span>&#160;<span class="keyword">function</span> [theta,d,axis,axispoint] = dquat2screw(<a class="code" href="dquat2screw_8m.html#a642111d43ca7a862ea2d69301d12594f">dq</a>)</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160; </div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;% <a class="code" href="dquat2trans_8m.html#ae51ede9982d8a5d6e10608aa025444f8">DQUAT2SCREW</a> extracts the <a class="code" href="readme_8txt.html#ab373248efcf9154cc1c72ba287a5f47e">screw</a> motion <a class="code" href="dquat2line_8m.html#aae262089a92cec6138cab3a6a9259007">parameters</a> of a <a class="code" href="readme_8txt.html#ab373248efcf9154cc1c72ba287a5f47e">screw</a> motion dual </div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;%             <a class="code" href="dquat2screw_8m.html#a1ebe0686f050d702671f96d3873c0060">quaternion</a></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;% </div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;%  [THETA,D,AXIS,AXISPOINT] = <a class="code" href="dquat2trans_8m.html#ae51ede9982d8a5d6e10608aa025444f8">DQUAT2SCREW</a>(<a class="code" href="shortest_screw_motion_8m.html#a500146701c8cf9d2912e13727b4c1be3">DQ</a>) returns the <a class="code" href="readme_8txt.html#a825b6035fa6a44c868703b9941f619fe">rotation</a> </div>
<div class="line"><a name="l00007"></a><span class="lineno"><a class="line" href="dquat2screw_8m.html#a548ecf1096177595c6fafdfc8e314191">    7</a></span>&#160;%     angle, <a class="code" href="dquat2screw_8m.html#a548ecf1096177595c6fafdfc8e314191">THETA</a> [deg], around the <a class="code" href="readme_8txt.html#ab373248efcf9154cc1c72ba287a5f47e">screw</a> motion <a class="code" href="dquat2line_8m.html#abd6ffc3fef0cdafc6e2a52e52bdb192e">unitary</a> <a class="code" href="dquat2screw_8m.html#ad87415b0416710f45c6bdc522216d242">axis</a>, <a class="code" href="dquat2screw_8m.html#a3e49816a9083099b715f9fdea17e6eda">AXIS</a>, </div>
<div class="line"><a name="l00008"></a><span class="lineno"><a class="line" href="dquat2screw_8m.html#ab845115acec14ed5e03d37aa89dc3b0f">    8</a></span>&#160;%     and the <a class="code" href="readme_8txt.html#acf4037ad1c167cbbebd3b5acb08ac885">translation</a> <a class="code" href="dquat2screw_8m.html#ab845115acec14ed5e03d37aa89dc3b0f">distance</a>, <a class="code" href="dquat2screw_8m.html#a5bce08b841c8035097633f11f2175eb6">D</a>, along the <a class="code" href="readme_8txt.html#ab373248efcf9154cc1c72ba287a5f47e">screw</a> motion <a class="code" href="dquat2screw_8m.html#ad87415b0416710f45c6bdc522216d242">axis</a>.  </div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;%     AXISPOINT specifies the <a class="code" href="readme_8txt.html#a46d745057633bed71f27836259832644">coordinates</a> of the point belonging to the </div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;%     <a class="code" href="readme_8txt.html#ab373248efcf9154cc1c72ba287a5f47e">screw</a> motion <a class="code" href="dquat2screw_8m.html#ad87415b0416710f45c6bdc522216d242">axis</a> <a class="code" href="_install_8txt.html#a8bfb9be78a51aa8d7cd84e8f911cc626">line</a> which is the nearest from the <a class="code" href="dquat2line_8m.html#a5479b63f6b505f8200ad3a94a6ad2f2b">origin</a>.</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;%       - <a class="code" href="shortest_screw_motion_8m.html#a500146701c8cf9d2912e13727b4c1be3">DQ</a> is a <a class="code" href="readme_8txt.html#ab373248efcf9154cc1c72ba287a5f47e">screw</a> motion dual <a class="code" href="dquat2screw_8m.html#a1ebe0686f050d702671f96d3873c0060">quaternion</a>. It is a 8-<a class="code" href="line2dquat_8m.html#aed11160adfdc2ccfb47d70a00c83c3a9">vector</a> or an 8*<a class="code" href="dquat2pos_8m.html#a903912ca2ee7419648bfee859faae8e9">N</a></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;%       array (each column is a <a class="code" href="readme_8txt.html#ab373248efcf9154cc1c72ba287a5f47e">screw</a> motion dual <a class="code" href="dquat2screw_8m.html#a1ebe0686f050d702671f96d3873c0060">quaternion</a>) where <a class="code" href="dquat2pos_8m.html#a903912ca2ee7419648bfee859faae8e9">N</a> is </div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;%       the number of <a class="code" href="readme_8txt.html#ab373248efcf9154cc1c72ba287a5f47e">screw</a> motion dual <a class="code" href="_d_qmult_8m.html#ae83dec758608827949460c3a4b114cd4">quaternions</a>. </div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;%       - <a class="code" href="dquat2screw_8m.html#a548ecf1096177595c6fafdfc8e314191">THETA</a> is the <a class="code" href="readme_8txt.html#a825b6035fa6a44c868703b9941f619fe">rotation</a> angle [deg]. It is comprised between 0 and</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;%          180deg. <a class="code" href="dquat2screw_8m.html#a548ecf1096177595c6fafdfc8e314191">THETA</a> is a scalar or an 1*<a class="code" href="dquat2pos_8m.html#a903912ca2ee7419648bfee859faae8e9">N</a> array (element i is the </div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;%          <a class="code" href="readme_8txt.html#a825b6035fa6a44c868703b9941f619fe">rotation</a> angle of dual <a class="code" href="dquat2screw_8m.html#a1ebe0686f050d702671f96d3873c0060">quaternion</a> i).</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;%       - <a class="code" href="dquat2screw_8m.html#a5bce08b841c8035097633f11f2175eb6">D</a> is the <a class="code" href="dquat2screw_8m.html#ab845115acec14ed5e03d37aa89dc3b0f">distance</a> along the <a class="code" href="readme_8txt.html#ab373248efcf9154cc1c72ba287a5f47e">screw</a> motion <a class="code" href="dquat2screw_8m.html#ad87415b0416710f45c6bdc522216d242">axis</a>. It is a scalar or</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;%          1*<a class="code" href="dquat2pos_8m.html#a903912ca2ee7419648bfee859faae8e9">N</a> array (element i is the <a class="code" href="readme_8txt.html#acf4037ad1c167cbbebd3b5acb08ac885">translation</a> <a class="code" href="dquat2screw_8m.html#ab845115acec14ed5e03d37aa89dc3b0f">distance</a> of dual</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;%          <a class="code" href="dquat2screw_8m.html#a1ebe0686f050d702671f96d3873c0060">quaternion</a> i).</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;%       - <a class="code" href="dquat2screw_8m.html#a3e49816a9083099b715f9fdea17e6eda">AXIS</a> is the <a class="code" href="dquat2line_8m.html#abd6ffc3fef0cdafc6e2a52e52bdb192e">unitary</a> (norm equal to 1) <a class="code" href="readme_8txt.html#ab373248efcf9154cc1c72ba287a5f47e">screw</a> motion <a class="code" href="dquat2screw_8m.html#ad87415b0416710f45c6bdc522216d242">axis</a>. It is a</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;%           3-<a class="code" href="line2dquat_8m.html#aed11160adfdc2ccfb47d70a00c83c3a9">vector</a> or an 3*<a class="code" href="dquat2pos_8m.html#a903912ca2ee7419648bfee859faae8e9">N</a> array (column i is the <a class="code" href="readme_8txt.html#ab373248efcf9154cc1c72ba287a5f47e">screw</a> motion <a class="code" href="dquat2screw_8m.html#ad87415b0416710f45c6bdc522216d242">axis</a> of</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;%           dual <a class="code" href="dquat2screw_8m.html#a1ebe0686f050d702671f96d3873c0060">quaternion</a> i).</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;%       - AXISPOINT is the point belonging to the <a class="code" href="readme_8txt.html#ab373248efcf9154cc1c72ba287a5f47e">screw</a> motion <a class="code" href="dquat2screw_8m.html#ad87415b0416710f45c6bdc522216d242">axis</a> which</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;%           is the closest from the <a class="code" href="dquat2line_8m.html#a5479b63f6b505f8200ad3a94a6ad2f2b">origin</a> (AXISPOINT is <a class="code" href="shortest_screw_motion_8m.html#ade010780e0984146f6b0a99d3f927f1d">orthogonal</a> to</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;%           <a class="code" href="dquat2screw_8m.html#a3e49816a9083099b715f9fdea17e6eda">AXIS</a>). It is a 3-<a class="code" href="line2dquat_8m.html#aed11160adfdc2ccfb47d70a00c83c3a9">vector</a> or an 3*<a class="code" href="dquat2pos_8m.html#a903912ca2ee7419648bfee859faae8e9">N</a> array (column i is the <a class="code" href="readme_8txt.html#ab373248efcf9154cc1c72ba287a5f47e">screw</a> </div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;%           motion <a class="code" href="dquat2screw_8m.html#a2361d399187ae1982221dc2e7b9ce281">axispoint</a> of dual <a class="code" href="dquat2screw_8m.html#a1ebe0686f050d702671f96d3873c0060">quaternion</a> i).</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;%</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;% See also DQUAT2TRANS, <a class="code" href="shortest_screw_motion_8m.html#a7c4df81080d7ff50856e5633398c8493">SCREW2DQUAT</a>, <a class="code" href="dquat2_a_v_8m.html#aecb56061e36f1718c6c51741efa3f30f">DQUAT2ROT</a></div>
<div class="line"><a name="l00029"></a><span class="lineno"><a class="line" href="dquat2screw_8m.html#a33b36f4975db1daead3c2ed957bf75f2">   29</a></span>&#160; </div>
<div class="line"><a name="l00030"></a><span class="lineno"><a class="line" href="dquat2screw_8m.html#a642111d43ca7a862ea2d69301d12594f">   30</a></span>&#160;if <a class="code" href="dquat2screw_8m.html#a11aeced1b74a4176cd546762a6dc4838">nargout</a> &lt; 4 || <a class="code" href="dquat2screw_8m.html#a11aeced1b74a4176cd546762a6dc4838">nargout</a> &gt; 4</div>
<div class="line"><a name="l00031"></a><span class="lineno"><a class="line" href="dquat2screw_8m.html#aae9072f2409c9ad58a775549676e9339">   31</a></span>&#160;    <a class="code" href="dquat2line_8m.html#a61a8a11393edf1955620d099aeb770b4">error</a>(&#39;DualQuaternion:dquat2screw:wrongNumberOfOutputs&#39;,...</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;        &#39;You specified %d outputs. It should be 4 (see documentation).&#39;,nargout);</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<a class="code" href="screwvel2dquat_8m.html#ab56fc067109af8853a42f63a61e5f2d8">end</a></div>
<div class="line"><a name="l00034"></a><span class="lineno"><a class="line" href="dquat2screw_8m.html#ac21798b74e0053b99d39f912c9ebbff3">   34</a></span>&#160; </div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<a class="code" href="dquat2screw_8m.html#a33b36f4975db1daead3c2ed957bf75f2">sdq</a> = <a class="code" href="_d_qinv_8m.html#a2e47409fc7526f797c7a6cf7793d9f8b">size</a>(<a class="code" href="dquat2screw_8m.html#a642111d43ca7a862ea2d69301d12594f">dq</a>);</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="keywordflow">if</span> <a class="code" href="dquat2screw_8m.html#a33b36f4975db1daead3c2ed957bf75f2">sdq</a> == [1 8], <a class="code" href="dquat2screw_8m.html#a642111d43ca7a862ea2d69301d12594f">dq</a> = <a class="code" href="dquat2screw_8m.html#a642111d43ca7a862ea2d69301d12594f">dq</a><span class="stringliteral">&#39;; sdq = size(dq); end</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="stringliteral">n = sdq(2);</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l00039"></a><span class="lineno"><a class="line" href="dquat2screw_8m.html#a1ebe0686f050d702671f96d3873c0060">   39</a></span>&#160;<span class="stringliteral">% wrong format</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="stringliteral">if sdq(1) ~= 8 </span></div>
<div class="line"><a name="l00041"></a><span class="lineno"><a class="line" href="dquat2screw_8m.html#a7c90f77c5d42d5f58bd17bcbde29e706">   41</a></span>&#160;<span class="stringliteral">    error(&#39;</span>DualQuaternion:dquat2screw:wrongsize<span class="stringliteral">&#39;,...</span></div>
<div class="line"><a name="l00042"></a><span class="lineno"><a class="line" href="dquat2screw_8m.html#ad921a25b2a95c4684431dd9af2fb4e66">   42</a></span>&#160;<span class="stringliteral">        &#39;</span>%<a class="code" href="dquat2screw_8m.html#a3d200d1aee46e4a0549f380f5ea19a3b">d</a> rows in the <a class="code" href="shortest_screw_motion_8m.html#a500146701c8cf9d2912e13727b4c1be3">DQ</a> array. It should be 8.<span class="stringliteral">&#39;,sdq(1));</span></div>
<div class="line"><a name="l00043"></a><span class="lineno"><a class="line" href="dquat2screw_8m.html#ac21bf8e1bdc8aa391fcb3ae5ed797a94">   43</a></span>&#160;<span class="stringliteral">end</span></div>
<div class="line"><a name="l00044"></a><span class="lineno"><a class="line" href="dquat2screw_8m.html#aefa62af47d81153cd4dec5d2f6ac53d2">   44</a></span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l00045"></a><span class="lineno"><a class="line" href="dquat2screw_8m.html#a9e0f807ca579edf4034e59cdc18cdd2f">   45</a></span>&#160;<span class="stringliteral">% check that it is a screw motion dual quaternion (unitary dual quaternion)</span></div>
<div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="dquat2screw_8m.html#a6c9c79eaac5fa83f4669d94749e669cb">   46</a></span>&#160;<span class="stringliteral">tol = 1e-5;</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="stringliteral">Q0 = dq(1:4,:);</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="stringliteral">Q1 = dq(5:8,:);</span></div>
<div class="line"><a name="l00049"></a><span class="lineno"><a class="line" href="dquat2screw_8m.html#a604a19c7a8792917c714084ddd768bd9">   49</a></span>&#160;<span class="stringliteral">Qcheck = Qmult(Qconj(Q0),Q1)+Qmult(Qconj(Q1),Q0);</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="stringliteral">check = Qcheck(1,:);</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="stringliteral">normQ0 = sqrt(sum(Q0.^2));</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="stringliteral">tabcheck = [abs(check) ; abs(normQ0-1)];</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="stringliteral">[maxval,imax] = max(max(tabcheck));</span></div>
<div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="dquat2screw_8m.html#a90922f160ec03ae43c021e93171a1627">   54</a></span>&#160;<span class="stringliteral">if maxval &gt; tol</span></div>
<div class="line"><a name="l00055"></a><span class="lineno"><a class="line" href="dquat2screw_8m.html#ad476747528e9ea0804a42e56fe6b3946">   55</a></span>&#160;<span class="stringliteral">    warning(&#39;</span>DualQuaternion:dquat2screw:wrongFormat<span class="stringliteral">&#39;,...</span></div>
<div class="line"><a name="l00056"></a><span class="lineno"><a class="line" href="dquat2screw_8m.html#a782b1687bb8fa41cc757de29b04b67c0">   56</a></span>&#160;<span class="stringliteral">        &#39;</span>At least one dual <a class="code" href="dquat2screw_8m.html#a1ebe0686f050d702671f96d3873c0060">quaternion</a> is not a <a class="code" href="readme_8txt.html#ab373248efcf9154cc1c72ba287a5f47e">screw</a> motion dual <a class="code" href="dquat2screw_8m.html#a1ebe0686f050d702671f96d3873c0060">quaternion</a> (<a class="code" href="dquat2line_8m.html#a3650192464ab5b704b48ddce087ceb13">tol</a> = %.1e).\n Indices of <a class="code" href="line2dquat_8m.html#a8842b33dc105fe3d8eb7129396554c99">max</a> values: %<a class="code" href="dquat2screw_8m.html#aae9072f2409c9ad58a775549676e9339">d \n</a> Max value = %.2e<span class="stringliteral">&#39;,...</span></div>
<div class="line"><a name="l00057"></a><span class="lineno"><a class="line" href="dquat2screw_8m.html#a37179f45242a0bc33959e8c8b8fe85c7">   57</a></span>&#160;<span class="stringliteral">        tol,imax,maxval);</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="stringliteral">end</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="stringliteral">indpos = find(dq(1,:) &gt; 1);</span></div>
<div class="line"><a name="l00061"></a><span class="lineno"><a class="line" href="dquat2screw_8m.html#a22ad7eb357cd9655c52266115bdb3879">   61</a></span>&#160;<span class="stringliteral">dq(1,indpos) = ones(1,length(indpos));</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="stringliteral">indneg = find(dq(1,:) &lt; -1);</span></div>
<div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="dquat2screw_8m.html#aa94e64957d109f31691de570748ffc86">   63</a></span>&#160;<span class="stringliteral">dq(1,indneg) = ones(1,length(indneg));</span></div>
<div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="dquat2screw_8m.html#a2d4c488aa93b5aa4c0de88217ac110b6">   64</a></span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="stringliteral">% Extraction of the screw motion parameters</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="stringliteral">% theta</span></div>
<div class="line"><a name="l00067"></a><span class="lineno"><a class="line" href="dquat2screw_8m.html#a3d200d1aee46e4a0549f380f5ea19a3b">   67</a></span>&#160;<span class="stringliteral">theta = 2*acosd(dq(1,:)); % acosd: [-1,1] --&gt; [0,180]</span></div>
<div class="line"><a name="l00068"></a><span class="lineno"><a class="line" href="dquat2screw_8m.html#afd470a28e8d09e6883d318cdb6c23510">   68</a></span>&#160;<span class="stringliteral">theta = mod(theta,360);</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="stringliteral">indthetaOK = find(theta &gt; 0);</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="stringliteral">ind0 = find(theta == 0);</span></div>
<div class="line"><a name="l00071"></a><span class="lineno"><a class="line" href="dquat2screw_8m.html#a7cf6eba65898c942c500780cedfadd01">   71</a></span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l00072"></a><span class="lineno"><a class="line" href="dquat2screw_8m.html#a7969eeb014f55a30cd60a1c3377258df">   72</a></span>&#160;<span class="stringliteral">% d</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="stringliteral">d = zeros(1,n);</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="stringliteral">if ~isempty(indthetaOK)</span></div>
<div class="line"><a name="l00075"></a><span class="lineno"><a class="line" href="dquat2screw_8m.html#a049c5466c43a3de163c4c577bd074d2c">   75</a></span>&#160;<span class="stringliteral">    d(indthetaOK) = -2*dq(5,indthetaOK)./sind(theta(indthetaOK)/2);</span></div>
<div class="line"><a name="l00076"></a><span class="lineno"><a class="line" href="dquat2screw_8m.html#a8233d63e4c88010e18d6ea5889e37a04">   76</a></span>&#160;<span class="stringliteral">end</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="stringliteral">d(ind0) = 2*sqrt(sum(dq(6:8,ind0).^2));</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="stringliteral">inddOK = find(d&gt;0);</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l00080"></a><span class="lineno"><a class="line" href="dquat2screw_8m.html#a4e026054eeb7169d1b805b8f3b95c903">   80</a></span>&#160;<span class="stringliteral">% axis</span></div>
<div class="line"><a name="l00081"></a><span class="lineno"><a class="line" href="dquat2screw_8m.html#afc675aa4b9660d65233dba76637bf9d3">   81</a></span>&#160;<span class="stringliteral">axis = [ones(1,n) ; zeros(2,n)];</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="stringliteral">repsin = repmat(sind(theta(indthetaOK)/2),3,1);</span></div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="stringliteral">if ~isempty(indthetaOK)</span></div>
<div class="line"><a name="l00084"></a><span class="lineno"><a class="line" href="dquat2screw_8m.html#a2361d399187ae1982221dc2e7b9ce281">   84</a></span>&#160;<span class="stringliteral">    axis(:,indthetaOK) = dq(2:4,indthetaOK)./repsin;</span></div>
<div class="line"><a name="l00085"></a><span class="lineno"><a class="line" href="dquat2screw_8m.html#ab261866abd63d725d5cd8c033ec3ee9d">   85</a></span>&#160;<span class="stringliteral">end</span></div>
<div class="line"><a name="l00086"></a><span class="lineno"><a class="line" href="dquat2screw_8m.html#a7cc34f01a888f44f2d77595feb36de87">   86</a></span>&#160;<span class="stringliteral">ind2 = intersect(inddOK,ind0);</span></div>
<div class="line"><a name="l00087"></a><span class="lineno"><a class="line" href="dquat2screw_8m.html#a0b93c12fb8c7ec9f563302bebbaa43b6">   87</a></span>&#160;<span class="stringliteral">axis(:,ind2) = 2*dq(6:8,ind2)./repmat(d(ind2),3,1);</span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="stringliteral">% axispoint</span></div>
<div class="line"><a name="l00090"></a><span class="lineno"><a class="line" href="dquat2screw_8m.html#a817dfc2fffb192a88ff422f4ae38ddd1">   90</a></span>&#160;<span class="stringliteral">axispoint = zeros(3,n);</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="stringliteral">m_axis = zeros(3,n);</span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="stringliteral">repcos = repmat(cosd(theta(indthetaOK)/2),3,1);</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="stringliteral">repd = repmat(d(indthetaOK),3,1);</span></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="stringliteral">if ~isempty(indthetaOK)</span></div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="stringliteral">    m_axis(:,indthetaOK) = (dq(6:8,indthetaOK)-repd/2.*repcos.*axis(:,indthetaOK))./repsin;</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="stringliteral">    axispoint(:,indthetaOK) = cross(axis(:,indthetaOK),m_axis(:,indthetaOK));</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="stringliteral">end</span></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="stringliteral"></span> </div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="areadme_8txt_html_a825b6035fa6a44c868703b9941f619fe"><div class="ttname"><a href="readme_8txt.html#a825b6035fa6a44c868703b9941f619fe">rotation</a></div><div class="ttdeci">The goal of this toolbox is to provide dual quaternion and use them in the framework of kinematics Everyone is invited to participate to the toolbox by including its own which fits the toolbox standards If you want your method incorporated in this send us an email to the address below Getting a line a rotation</div><div class="ttdef"><b>Definition:</b> <a href="readme_8txt_source.html#l00008">readme.txt:8</a></div></div>
<div class="ttc" id="adquat2line_8m_html_a61a8a11393edf1955620d099aeb770b4"><div class="ttname"><a href="dquat2line_8m.html#a61a8a11393edf1955620d099aeb770b4">error</a></div><div class="ttdeci">LINE2DQUAT if nargout&lt; 2||nargout &gt; error('DualQuaternion:dquat2line:wrongNumberOfOutputs',... 'You specified %d outputs. It should be 2(see documentation).', nargout)</div></div>
<div class="ttc" id="ascrewvel2dquat_8m_html_ab56fc067109af8853a42f63a61e5f2d8"><div class="ttname"><a href="screwvel2dquat_8m.html#ab56fc067109af8853a42f63a61e5f2d8">end</a></div><div class="ttdeci">end[theta, d, axis, axispoint]</div><div class="ttdef"><b>Definition:</b> <a href="screwvel2dquat_8m_source.html#l00094">screwvel2dquat.m:95</a></div></div>
<div class="ttc" id="adquat2screw_8m_html_a3d200d1aee46e4a0549f380f5ea19a3b"><div class="ttname"><a href="dquat2screw_8m.html#a3d200d1aee46e4a0549f380f5ea19a3b">d</a></div><div class="ttdeci">d d</div><div class="ttdef"><b>Definition:</b> <a href="dquat2screw_8m_source.html#l00067">dquat2screw.m:67</a></div></div>
<div class="ttc" id="adquat2screw_8m_html_a2361d399187ae1982221dc2e7b9ce281"><div class="ttname"><a href="dquat2screw_8m.html#a2361d399187ae1982221dc2e7b9ce281">axispoint</a></div><div class="ttdeci">axispoint axispoint</div><div class="ttdef"><b>Definition:</b> <a href="dquat2screw_8m_source.html#l00084">dquat2screw.m:84</a></div></div>
<div class="ttc" id="a_d_qmult_8m_html_ae83dec758608827949460c3a4b114cd4"><div class="ttname"><a href="_d_qmult_8m.html#ae83dec758608827949460c3a4b114cd4">quaternions</a></div><div class="ttdeci">end if soptargin more than dual quaternions</div><div class="ttdef"><b>Definition:</b> <a href="_d_qmult_8m_source.html#l00038">DQmult.m:39</a></div></div>
<div class="ttc" id="areadme_8txt_html_ab373248efcf9154cc1c72ba287a5f47e"><div class="ttname"><a href="readme_8txt.html#ab373248efcf9154cc1c72ba287a5f47e">screw</a></div><div class="ttdeci">The goal of this toolbox is to provide dual quaternion and use them in the framework of kinematics Everyone is invited to participate to the toolbox by including its own which fits the toolbox standards If you want your method incorporated in this send us an email to the address below Getting a line a a a screw</div><div class="ttdef"><b>Definition:</b> <a href="readme_8txt_source.html#l00008">readme.txt:8</a></div></div>
<div class="ttc" id="adquat2screw_8m_html_aae9072f2409c9ad58a775549676e9339"><div class="ttname"><a href="dquat2screw_8m.html#aae9072f2409c9ad58a775549676e9339">n</a></div><div class="ttdeci">end n</div><div class="ttdef"><b>Definition:</b> <a href="dquat2screw_8m_source.html#l00031">dquat2screw.m:31</a></div></div>
<div class="ttc" id="a_d_qinv_8m_html_a2e47409fc7526f797c7a6cf7793d9f8b"><div class="ttname"><a href="_d_qinv_8m.html#a2e47409fc7526f797c7a6cf7793d9f8b">size</a></div><div class="ttdeci">dq size()</div></div>
<div class="ttc" id="aline2dquat_8m_html_aed11160adfdc2ccfb47d70a00c83c3a9"><div class="ttname"><a href="line2dquat_8m.html#aed11160adfdc2ccfb47d70a00c83c3a9">vector</a></div><div class="ttdeci">end normalization of the axis vector(if necessary) n</div></div>
<div class="ttc" id="adquat2screw_8m_html_a11aeced1b74a4176cd546762a6dc4838"><div class="ttname"><a href="dquat2screw_8m.html#a11aeced1b74a4176cd546762a6dc4838">nargout</a></div><div class="ttdeci">'DualQuaternion:dquat2screw:wrongNumberOfOutputs',... 'You specified %d outputs. It should be 4(see documentation nargout()</div><div class="ttdef"><b>Definition:</b> <a href="dquat2trans_8m_source.html#l00045">dquat2trans.m:45</a></div></div>
<div class="ttc" id="adquat2screw_8m_html_a548ecf1096177595c6fafdfc8e314191"><div class="ttname"><a href="dquat2screw_8m.html#a548ecf1096177595c6fafdfc8e314191">THETA</a></div><div class="ttdeci">THETA[deg]</div><div class="ttdef"><b>Definition:</b> <a href="dquat2screw_8m_source.html#l00007">dquat2screw.m:7</a></div></div>
<div class="ttc" id="adquat2screw_8m_html_a642111d43ca7a862ea2d69301d12594f"><div class="ttname"><a href="dquat2screw_8m.html#a642111d43ca7a862ea2d69301d12594f">dq</a></div><div class="ttdeci">if dq</div><div class="ttdef"><b>Definition:</b> <a href="dquat2screw_8m_source.html#l00030">dquat2screw.m:30</a></div></div>
<div class="ttc" id="a_install_8txt_html_a8bfb9be78a51aa8d7cd84e8f911cc626"><div class="ttname"><a href="_install_8txt.html#a8bfb9be78a51aa8d7cd84e8f911cc626">line</a></div><div class="ttdeci">In order to install the Toolbox please do the following for instance toolbox_Dual_Quaternion and not toolbox Dual Quaternion Open select File Set Path In the window that select button Add with Subfolders Add the folder In order not to re do this at each start of Matlab click on button Save before clicking on Close Manually you can in the command line</div><div class="ttdef"><b>Definition:</b> <a href="_install_8txt_source.html#l00012">Install.txt:12</a></div></div>
<div class="ttc" id="adquat2screw_8m_html_a5bce08b841c8035097633f11f2175eb6"><div class="ttname"><a href="dquat2screw_8m.html#a5bce08b841c8035097633f11f2175eb6">D</a></div><div class="ttdeci">around the screw motion unitary and the translation D</div><div class="ttdef"><b>Definition:</b> <a href="dquat2screw_8m_source.html#l00008">dquat2screw.m:8</a></div></div>
<div class="ttc" id="adquat2screw_8m_html_ab845115acec14ed5e03d37aa89dc3b0f"><div class="ttname"><a href="dquat2screw_8m.html#ab845115acec14ed5e03d37aa89dc3b0f">distance</a></div><div class="ttdeci">around the screw motion unitary and the translation distance</div><div class="ttdef"><b>Definition:</b> <a href="dquat2screw_8m_source.html#l00008">dquat2screw.m:8</a></div></div>
<div class="ttc" id="adquat2line_8m_html_abd6ffc3fef0cdafc6e2a52e52bdb192e"><div class="ttname"><a href="dquat2line_8m.html#abd6ffc3fef0cdafc6e2a52e52bdb192e">unitary</a></div><div class="ttdeci">check if the norm of v is unitary(it should be) normv2</div></div>
<div class="ttc" id="adquat2screw_8m_html_a1ebe0686f050d702671f96d3873c0060"><div class="ttname"><a href="dquat2screw_8m.html#a1ebe0686f050d702671f96d3873c0060">quaternion</a></div><div class="ttdeci">end check that it is a screw motion dual quaternion(unitary dual quaternion) tol</div></div>
<div class="ttc" id="ashortest_screw_motion_8m_html_a7c4df81080d7ff50856e5633398c8493"><div class="ttname"><a href="shortest_screw_motion_8m.html#a7c4df81080d7ff50856e5633398c8493">SCREW2DQUAT</a></div><div class="ttdeci">function AXISPOINT is the intersection point of the two AXISPOINT is the intersection point of the two lines SCREW2DQUAT</div><div class="ttdef"><b>Definition:</b> <a href="shortest_screw_motion_8m_source.html#l00040">shortestScrewMotion.m:40</a></div></div>
<div class="ttc" id="adquat2screw_8m_html_ad87415b0416710f45c6bdc522216d242"><div class="ttname"><a href="dquat2screw_8m.html#ad87415b0416710f45c6bdc522216d242">axis</a></div><div class="ttdeci">around the screw motion unitary axis</div><div class="ttdef"><b>Definition:</b> <a href="dquat2screw_8m_source.html#l00007">dquat2screw.m:7</a></div></div>
<div class="ttc" id="areadme_8txt_html_acf4037ad1c167cbbebd3b5acb08ac885"><div class="ttname"><a href="readme_8txt.html#acf4037ad1c167cbbebd3b5acb08ac885">translation</a></div><div class="ttdeci">The goal of this toolbox is to provide dual quaternion and use them in the framework of kinematics Everyone is invited to participate to the toolbox by including its own which fits the toolbox standards If you want your method incorporated in this send us an email to the address below Getting a line a a translation</div><div class="ttdef"><b>Definition:</b> <a href="readme_8txt_source.html#l00008">readme.txt:8</a></div></div>
<div class="ttc" id="ashortest_screw_motion_8m_html_ade010780e0984146f6b0a99d3f927f1d"><div class="ttname"><a href="shortest_screw_motion_8m.html#ade010780e0984146f6b0a99d3f927f1d">orthogonal</a></div><div class="ttdeci">orthogonal</div><div class="ttdef"><b>Definition:</b> <a href="shortest_screw_motion_8m_source.html#l00093">shortestScrewMotion.m:93</a></div></div>
<div class="ttc" id="ashortest_screw_motion_8m_html_a500146701c8cf9d2912e13727b4c1be3"><div class="ttname"><a href="shortest_screw_motion_8m.html#a500146701c8cf9d2912e13727b4c1be3">DQ</a></div><div class="ttdeci">function AXISPOINT is the intersection point of the two AXISPOINT is the intersection point of the two lines DQ</div><div class="ttdef"><b>Definition:</b> <a href="shortest_screw_motion_8m_source.html#l00035">shortestScrewMotion.m:35</a></div></div>
<div class="ttc" id="adquat2screw_8m_html_a3e49816a9083099b715f9fdea17e6eda"><div class="ttname"><a href="dquat2screw_8m.html#a3e49816a9083099b715f9fdea17e6eda">AXIS</a></div><div class="ttdeci">around the screw motion unitary AXIS</div><div class="ttdef"><b>Definition:</b> <a href="dquat2screw_8m_source.html#l00007">dquat2screw.m:7</a></div></div>
<div class="ttc" id="adquat2line_8m_html_aae262089a92cec6138cab3a6a9259007"><div class="ttname"><a href="dquat2line_8m.html#aae262089a92cec6138cab3a6a9259007">parameters</a></div><div class="ttdeci">end extraction of the line position parameters</div><div class="ttdef"><b>Definition:</b> <a href="dquat2line_8m_source.html#l00043">dquat2line.m:43</a></div></div>
<div class="ttc" id="adquat2line_8m_html_a3650192464ab5b704b48ddce087ceb13"><div class="ttname"><a href="dquat2line_8m.html#a3650192464ab5b704b48ddce087ceb13">tol</a></div><div class="ttdeci">end check line position dual quaternion tol</div><div class="ttdef"><b>Definition:</b> <a href="dquat2line_8m_source.html#l00035">dquat2line.m:35</a></div></div>
<div class="ttc" id="adquat2line_8m_html_a5479b63f6b505f8200ad3a94a6ad2f2b"><div class="ttname"><a href="dquat2line_8m.html#a5479b63f6b505f8200ad3a94a6ad2f2b">origin</a></div><div class="ttdeci">end r is the position vector of the point belonging to the line such that this point is the nearest point from the origin(it is orthogonal to the % line orientation) normv2</div></div>
<div class="ttc" id="adquat2trans_8m_html_ae51ede9982d8a5d6e10608aa025444f8"><div class="ttname"><a href="dquat2trans_8m.html#ae51ede9982d8a5d6e10608aa025444f8">DQUAT2SCREW</a></div><div class="ttdeci">DQUAT2SCREW</div><div class="ttdef"><b>Definition:</b> <a href="dquat2trans_8m_source.html#l00022">dquat2trans.m:22</a></div></div>
<div class="ttc" id="adquat2pos_8m_html_a903912ca2ee7419648bfee859faae8e9"><div class="ttname"><a href="dquat2pos_8m.html#a903912ca2ee7419648bfee859faae8e9">N</a></div><div class="ttdeci">function which represents the point coordinates DQ is either a vector of size or an array of size * N(each column represents a point position % dual quaternion) where N is the number of point locations. V is a % vector of size 3 or an array of size 3 *N depending on the input % format. % % See also POS2DQUAT</div></div>
<div class="ttc" id="adquat2_a_v_8m_html_aecb56061e36f1718c6c51741efa3f30f"><div class="ttname"><a href="dquat2_a_v_8m.html#aecb56061e36f1718c6c51741efa3f30f">DQUAT2ROT</a></div><div class="ttdeci">function DQUAT2ROT[theta, axis]</div><div class="ttdef"><b>Definition:</b> <a href="dquat2_a_v_8m_source.html#l00016">dquat2AV.m:18</a></div></div>
<div class="ttc" id="aline2dquat_8m_html_a8842b33dc105fe3d8eb7129396554c99"><div class="ttname"><a href="line2dquat_8m.html#a8842b33dc105fe3d8eb7129396554c99">max</a></div><div class="ttdeci">if max(n2)~</div></div>
<div class="ttc" id="adquat2screw_8m_html_a33b36f4975db1daead3c2ed957bf75f2"><div class="ttname"><a href="dquat2screw_8m.html#a33b36f4975db1daead3c2ed957bf75f2">sdq</a></div><div class="ttdeci">end sdq</div><div class="ttdef"><b>Definition:</b> <a href="dquat2screw_8m_source.html#l00029">dquat2screw.m:29</a></div></div>
<div class="ttc" id="areadme_8txt_html_a46d745057633bed71f27836259832644"><div class="ttname"><a href="readme_8txt.html#a46d745057633bed71f27836259832644">coordinates</a></div><div class="ttdeci">The goal of this toolbox is to provide dual quaternion and use them in the framework of kinematics Everyone is invited to participate to the toolbox by including its own which fits the toolbox standards If you want your method incorporated in this send us an email to the address below Getting a line a a a do operations on dual the dual quaternion the retrieve parameters from a dual or a screw dual easily going back and forth between Fick rotation coordinates</div><div class="ttdef"><b>Definition:</b> <a href="readme_8txt_source.html#l00011">readme.txt:11</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.18
</small></address>
</body>
</html>
